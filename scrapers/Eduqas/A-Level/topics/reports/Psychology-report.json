{
  "subject_name": "Psychology",
  "level": "A-Level",
  "pdf_url": "https://www.eduqas.co.uk/media/t3xf3yae/eduqas-a-level-psychology-spec-from-2015-e.pdf",
  "start_time": "2025-11-23T23:46:58.936232",
  "success": false,
  "topics_extracted": 0,
  "levels": {},
  "issues": [
    "Exception: cannot access local variable 'subject_content_pos' where it is not associated with a value"
  ],
  "warnings": [],
  "success_grade": 0,
  "analysis": {
    "content_found": true,
    "has_components": true,
    "has_tiers": false,
    "has_options": false,
    "has_appendices": true,
    "components": [
      {
        "number": "1",
        "name": "Content to be taught"
      },
      {
        "number": "2",
        "name": "Content to be taught"
      },
      {
        "number": "3",
        "name": "Content to be taught"
      },
      {
        "number": "1",
        "name": "33⅓% 13⅓% 6⅔% 13⅓%"
      },
      {
        "number": "2",
        "name": "33⅓% 6⅔% 16⅔% 10%"
      },
      {
        "number": "3",
        "name": "33⅓% 10% 8⅓% 15%"
      },
      {
        "number": "2",
        "name": "Personal Investigations"
      },
      {
        "number": "2",
        "name": "as indicated below:"
      },
      {
        "number": "1",
        "name": "Content to be taught"
      },
      {
        "number": "2",
        "name": "Content to be taught"
      },
      {
        "number": "3",
        "name": "Content to be taught"
      },
      {
        "number": "2",
        "name": "Personal Investigations"
      }
    ],
    "tiers": [],
    "options": [],
    "appendices": [
      "Appendix B"
    ],
    "structure_type": "component-based"
  },
  "duration_seconds": 0,
  "error": "cannot access local variable 'subject_content_pos' where it is not associated with a value",
  "traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\tonyd\\OneDrive - 4Sight Education Ltd\\Apps\\flash-curriculum-pipeline\\scrapers\\Eduqas\\A-Level\\topics\\eduqas-alevel-universal-scraper.py\", line 367, in _process_subject\n    topics_text = self._extract_hierarchy(subject, pdf_text, analysis)\n  File \"C:\\Users\\tonyd\\OneDrive - 4Sight Education Ltd\\Apps\\flash-curriculum-pipeline\\scrapers\\Eduqas\\A-Level\\topics\\eduqas-alevel-universal-scraper.py\", line 600, in _extract_hierarchy\n    prompt = self._build_extraction_prompt(subject, pdf_text, analysis)\n  File \"C:\\Users\\tonyd\\OneDrive - 4Sight Education Ltd\\Apps\\flash-curriculum-pipeline\\scrapers\\Eduqas\\A-Level\\topics\\eduqas-alevel-universal-scraper.py\", line 700, in _build_extraction_prompt\n    if subject_content_pos is not None:\n       ^^^^^^^^^^^^^^^^^^^\nUnboundLocalError: cannot access local variable 'subject_content_pos' where it is not associated with a value\n"
}